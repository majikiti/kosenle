var v=Object.defineProperty,K=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var $=(t,e,n)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d=(t,e)=>{for(var n in e||(e={}))O.call(e,n)&&$(t,n,e[n]);if(b)for(var n of b(e))A.call(e,n)&&$(t,n,e[n]);return t},h=(t,e)=>K(t,F(e));import{j as L,a as x,F as D,p as j,l as E,S as G}from"./vendor.1681d769.js";const R=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}};R();function M(t){let e=t;return e=e^e<<13,e=e^e>>>17,e=e^e<<5,Math.abs(e)}function B(t){const e=parseInt(`${t.getFullYear()}${t.getMonth()}${t.getDate()}`);return M(e)}var k=[{name:"\u51FD\u9928",match:"\u51FD\u9928",word:"NITHC"},{name:"\u82EB\u5C0F\u7267",match:"\u82EB\u5C0F\u7267",word:"NITTC"},{name:"\u91E7\u8DEF",match:"\u91E7\u8DEF",word:"NITKC"},{name:"\u65ED\u5DDD",match:"\u65ED\u5DDD",word:"NITAC"},{name:"\u516B\u6238",match:"\u516B\u6238",word:"NITHC"},{name:"\u4E00\u95A2",match:"\u4E00\u95A2",word:"NITIC"},{name:"\u4ED9\u53F0",match:"\u4ED9\u53F0",word:"NITSC"},{name:"\u79CB\u7530",match:"\u79CB\u7530",word:"NITAC"},{name:"\u9DB4\u5CA1",match:"\u9DB4\u5CA1",word:"NITTC"},{name:"\u798F\u5CF6",match:"\u798F\u5CF6",word:"NITFC"},{name:"\u8328\u57CE",match:"\u8328\u57CE",word:"NITIC"},{name:"\u5C0F\u5C71",match:"\u5C0F\u5C71",word:"NITOC"},{name:"\u7FA4\u99AC",match:"\u7FA4\u99AC",word:"NITGC"},{name:"\u6728\u66F4\u6D25",match:"\u6728\u66F4\u6D25",word:"NITKC"},{name:"\u6771\u4EAC",match:"\u6771\u4EAC",word:"NITTC"},{name:"\u90FD\u7ACB\u7523\u6280",match:"\u6771\u4EAC\u90FD\u7ACB\u7523\u696D\u6280\u8853|\u90FD\u7ACB|\u90FD\u7ACB\u7523\u6280|\u7523\u6280",word:"TMCIT"},{name:"\u30B5\u30EC\u30B8\u30AA",match:"\u30B5\u30EC\u30B8\u30AA",word:"SALESIO",pos:-1},{name:"\u9577\u5CA1",match:"\u9577\u5CA1",word:"NITNC"},{name:"\u5BCC\u5C71",match:"\u5BCC\u5C71",word:"NITTC"},{name:"\u77F3\u5DDD",match:"\u77F3\u5DDD",word:"NITIC"},{name:"\u56FD\u969B",match:"\u56FD\u969B",word:"ICT",pos:1},{name:"\u798F\u4E95",match:"\u798F\u4E95",word:"NITFC"},{name:"\u9577\u91CE",match:"\u9577\u91CE",word:"NITNC"},{name:"\u5C90\u961C",match:"\u5C90\u961C",word:"NITGC"},{name:"\u6CBC\u6D25",match:"\u6CBC\u6D25",word:"NITNC"},{name:"\u8C4A\u7530",match:"\u8C4A\u7530",word:"NITTC"},{name:"\u9CE5\u7FBD\u5546\u8239",match:"\u9CE5\u7FBD\u5546\u8239",word:"NITTC"},{name:"\u9234\u9E7F",match:"\u9234\u9E7F",word:"NITSC"},{name:"\u8FD1\u5927",match:"\u8FD1\u757F\u5927\u5B66|\u8FD1\u5927",word:"KUTC"},{name:"\u821E\u9DB4",match:"\u821E\u9DB4",word:"NITMC"},{name:"\u5E9C\u5927",match:"\u5927\u962A\u5E9C\u7ACB\u5927\u5B66|\u5E9C\u5927",word:"OPUCT"},{name:"\u660E\u77F3",match:"\u660E\u77F3",word:"NITAC"},{name:"\u795E\u6238",match:"\u795E\u6238\u5E02\u7ACB|\u795E\u6238",word:"KCCT"},{name:"\u5948\u826F",match:"\u5948\u826F",word:"NITNC"},{name:"\u548C\u6B4C\u5C71",match:"\u548C\u6B4C\u5C71",word:"NITWC"},{name:"\u7C73\u5B50",match:"\u7C73\u5B50",word:"NITYC"},{name:"\u677E\u6C5F",match:"\u677E\u6C5F",word:"NITMC"},{name:"\u6D25\u5C71",match:"\u6D25\u5C71",word:"NITTC"},{name:"\u5E83\u5CF6\u5546\u8239",match:"\u5E83\u5CF6\u5546\u8239",word:"NITHC"},{name:"\u5449",match:"\u5449",word:"NITKC"},{name:"\u5FB3\u5C71",match:"\u5FB3\u5C71",word:"NITTC"},{name:"\u5B87\u90E8",match:"\u5B87\u90E8",word:"NITUC"},{name:"\u5927\u5CF6\u5546\u8239",match:"\u5927\u5CF6\u5546\u8239",word:"NITOC"},{name:"\u963F\u5357",match:"\u963F\u5357",word:"NITAC"},{name:"\u9999\u5DDD",match:"\u9999\u5DDD",word:"NITKC"},{name:"\u65B0\u5C45\u6D5C",match:"\u65B0\u5C45\u6D5C",word:"NITNC"},{name:"\u5F13\u524A\u5546\u8239",match:"\u5F13\u524A\u5546\u8239",word:"NITYC"},{name:"\u9AD8\u77E5",match:"\u9AD8\u77E5",word:"NITKC"},{name:"\u5317\u4E5D\u5DDE",match:"\u5317\u4E5D\u5DDE",word:"NITKIT"},{name:"\u4E45\u7559\u7C73",match:"\u4E45\u7559\u7C73",word:"NITKC"},{name:"\u6709\u660E",match:"\u6709\u660E",word:"NITAC"},{name:"\u4F50\u4E16\u4FDD",match:"\u4F50\u4E16\u4FDD",word:"NITSC"},{name:"\u718A\u672C",match:"\u718A\u672C",word:"NITKC"},{name:"\u5927\u5206",match:"\u5927\u5206",word:"NITOC"},{name:"\u90FD\u57CE",match:"\u90FD\u57CE",word:"NITMC"},{name:"\u9E7F\u5150\u5CF6",match:"\u9E7F\u5150\u5CF6",word:"NITKC"},{name:"\u6C96\u7E04",match:"\u6C96\u7E04",word:"NITOC"}];const a=L,p=x,w=D;function _(t){return p(w,{children:[a("header",{children:"Kosenle"}),a("main",{children:t.children})]})}const f=6,C=5;function N(t){return parseInt(`${t.getFullYear()}${t.getMonth()}${t.getDate()}`)}function q(t,e){localStorage.setItem(t,JSON.stringify(e))}function U(t){const e=localStorage.getItem(t);if(e===null)throw new Error("data not found");return JSON.parse(e)}class g{constructor(e){this.str=e.str,this.pos=e.pos}equals(e){return this.str===e.str&&this.pos===e.pos}}const y=k.map(({name:t,match:e,word:n,pos:o=0})=>({name:`${t}\u9AD8\u5C02`,matches:r=>new RegExp(`^(${e})(|\u9AD8\u5C02)$`).test(r.trim()),word:new g({str:n,pos:o})}));function m({char:t,state:e}){return a("div",{class:`box ${e}`,children:e!="secret"&&a("span",{class:"char",children:t})})}function S(){const t=new Date,e=y[B(t)%y.length];try{const n=U("gameState");return N(t)!==n.date?{status:"playing",result:null,ans:e.word,rows:[...Array(f)].fill(null),cur:0,input:"",date:N(t)}:h(d({},n),{ans:new g(n.ans),rows:n.rows.map(o=>o===null?null:new g(o))})}catch{return{status:"playing",result:null,ans:e.word,rows:[...Array(f)].fill(null),cur:0,input:"",date:N(t)}}}function Y(t,e){switch(e.type){case"reset":return S();case"input":return h(d({},t),{status:t.status==="notInList"?"playing":t.status,input:e.payload});case"submit":{if(t.status==="end")return t;const n=y.find(o=>o.matches(t.input));if(n===void 0)return h(d({},t),{status:"notInList"});{const o=t.rows.slice();o[t.cur]=n.word;const r=n.word.equals(t.ans)||t.cur>=f-1?"end":t.status,s=r!=="end"?t.result:n.word.equals(t.ans)?"win":t.cur>=f-1?"lose":t.result,c=h(d({},t),{status:r,result:s,rows:o,cur:t.cur+1,input:""});return q("gameState",c),c}}default:return t}}function H(){const[t,e]=j(Y,S());return p(w,{children:[a("div",{class:"tab",children:t.rows.map(n=>p("div",{class:"row",children:[n===null?[...Array(C)].fill(a(m,{state:"secret"})):n.str.split("").map((o,r)=>{const s=t.ans,c=s.pos-n.pos;return c<=r&&r<s.str.length+c&&s.str[r-c]===o?a(m,{char:o,state:"correct"}):s.str.includes(o)?a(m,{char:o,state:"present"}):a(m,{char:o,state:"absent"})}),n===null||n.str.length%2?null:t.result==="win"&&t.ans.equals(n)?a(m,{state:"correct"}):a(m,{state:"blank"})]}))}),a("form",{onSubmit:n=>{n.preventDefault(),t.input!==""&&e({type:"submit"})},children:a("input",{class:`input ${t.status==="notInList"?"notInList":""}`,disabled:t.status==="end",placeholder:"hoge\u9AD8\u5C02",value:t.input,onChange:n=>{e({type:"input",payload:n.target.value})}})}),t.status==="end"&&a(J,{state:t})]})}function J({state:t}){const[e,n]=E(!0);let o="",r=0;t.rows.forEach(c=>{if(c!==null){let u=c.str.split("").map((i,l)=>{const I=t.ans,T=I.pos-c.pos;return T<=l&&l<I.str.length+T&&I.str[l-T]===i?"\u{1F7E9}":I.str.includes(i)?"\u{1F7E8}":"\u2B1B"}).join("");if(!(c.str.length%2))c.str===t.ans.str?u+="\u{1F7E9}":u+="\u2B1B";else if(c.str.length<C){let i="";for(let l=0;l<(C-c.str.length)/2;++l)i+="\u3000";u=i+u}o+=`${u}
`,++r}});const s=`Kosenle ${t.result==="lose"?"X":`${r}`}/${f}

${o}

https://majikiti.github.io/kosenle/`;return a(w,{children:e&&a("div",{class:"overlay",children:p("div",{class:"result",children:[a("button",{class:"close",onClick:()=>{n(!1)},children:"x"}),t.result==="win"&&a(w,{children:a("h2",{children:"Win!!"})}),t.result==="lose"&&p(w,{children:[a("h2",{children:"Game Over"}),a("p",{children:"\u{1F62D}"})]}),a("pre",{children:o.split("\u3000").join("")}),a("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(s)}`,target:"_blank",children:"Tweet"})]})})})}function P(){return a(_,{children:a(H,{})})}G(a(P,{}),document.getElementById("app"));console.log("%c\u3053\u3093\u306B\u3061\u306F!","color: #FF0000; font-size: 8em; font-weight: bold;");
